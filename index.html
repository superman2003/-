<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>ğŸ‚ æ‰¹çˆ†ä¸”çˆ±å“­çš„é»„å¤§é…’è’™å­çš„ç”Ÿæ—¥ç¥ç¦ ğŸ‚</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@300;400;500&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', 'Ma Shan Zheng', sans-serif;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            position: relative;
            background: linear-gradient(135deg, #ffe4e1 0%, #ffd6f0 25%, #b3e5fc 50%, #fff8dc 75%, #ffd8b3 100%);
            background-size: 400% 400%;
            animation: gradientFlow 20s ease infinite;
        }

        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* èƒŒæ™¯å›¾å±‚ */
        .background-image {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            background-image: url('OIP.webp');
            background-size: cover;
            background-position: center;
            opacity: 0.18;
            z-index: 0;
            filter: blur(1px);
        }

        /* ç²’å­åŠ¨ç”»å±‚ */
        .particle-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 25px;
            height: 25px;
            opacity: 0.7;
            animation: float 10s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* ç”Ÿæ—¥ç¥ç¦å¼¹å¹• - å †å æ•ˆæœ */
        .wish-bubble {
            position: fixed;
            padding: 12px 25px;
            background: linear-gradient(135deg, rgba(255, 218, 185, 0.92) 0%, rgba(255, 182, 193, 0.92) 100%);
            border-radius: 20px;
            color: #ff1493;
            font-size: 18px;
            font-weight: 600;
            box-shadow: 0 5px 20px rgba(255, 140, 0, 0.4);
            z-index: 10;
            backdrop-filter: blur(8px);
            border: 2px solid rgba(255, 255, 255, 0.8);
            white-space: nowrap;
            text-align: center;
            animation: fadeInScale 0.5s ease-out forwards;
            font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
            opacity: 0;
            will-change: transform, opacity;
            transform: translate3d(-50%, -50%, 0);
            backface-visibility: hidden;
            -webkit-font-smoothing: antialiased;
        }

        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* ä¿¡å°å®¹å™¨ */
        .envelope-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            z-index: 100;
            cursor: pointer;
            filter: drop-shadow(0 15px 35px rgba(255, 140, 0, 0.4));
            opacity: 0;
        }
        
        .envelope-container.show {
            animation: envelopeAppear 1.5s ease forwards;
        }

        @keyframes envelopeAppear {
            0% {
                transform: translate(-50%, -50%) scale(0) rotateY(0deg);
                opacity: 0;
            }
            60% {
                transform: translate(-50%, -50%) scale(1.15) rotateY(180deg);
            }
            100% {
                transform: translate(-50%, -50%) scale(1) rotateY(360deg);
                opacity: 1;
            }
        }

        .envelope {
            width: 300px;
            height: 200px;
            position: relative;
            transition: all 0.5s ease;
        }

        .envelope:hover {
            transform: scale(1.08) translateY(-5px);
        }

        .envelope-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #fff5ee 0%, #ffe4e1 50%, #ffd6f0 100%);
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(255, 140, 0, 0.5);
            position: relative;
            border: 4px solid #ffa500;
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 100px solid #ffb6c1;
            transform-origin: top;
            transition: all 1s ease;
            z-index: 2;
        }

        .envelope.open .envelope-flap {
            transform: rotateX(180deg);
            border-top-color: #ffa07a;
        }

        .envelope-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 26px;
            color: #ff6347;
            font-weight: bold;
            text-shadow: 2px 2px 6px rgba(255, 255, 255, 0.9);
            z-index: 3;
            font-family: 'Ma Shan Zheng', cursive;
        }

        .birthday-icon {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 30px;
            animation: bounce 1s infinite;
            z-index: 3;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        /* ä¿¡ä»¶å†…å®¹ */
        .letter-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 250, 240, 0.97) 0%, rgba(255, 248, 220, 0.97) 100%);
            z-index: 200;
            display: none;
            overflow-y: auto;
            animation: fadeIn 1.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .letter-paper {
            max-width: 850px;
            margin: 60px auto;
            padding: 70px;
            background: linear-gradient(to bottom, #fffaf5 0%, #fff8f0 100%);
            box-shadow: 0 25px 70px rgba(255, 140, 0, 0.3);
            border-radius: 20px;
            border: 4px solid #ffdab9;
            position: relative;
            background-image: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 32px,
                    rgba(255, 200, 150, 0.12) 32px,
                    rgba(255, 200, 150, 0.12) 33px
                );
        }

        .letter-paper::before {
            content: 'ğŸ‚';
            position: absolute;
            top: 25px;
            right: 35px;
            font-size: 45px;
            opacity: 0.4;
        }

        .letter-paper::after {
            content: 'ğŸˆ';
            position: absolute;
            bottom: 25px;
            left: 35px;
            font-size: 40px;
            opacity: 0.4;
        }

        .letter-title {
            text-align: center;
            font-size: 36px;
            color: #ff6347;
            margin-bottom: 35px;
            font-family: 'Ma Shan Zheng', cursive;
            text-shadow: 2px 2px 6px rgba(255, 200, 150, 0.5);
        }

        .letter-content {
            font-size: 19px;
            line-height: 2.1;
            color: #555;
            text-indent: 2em;
            margin-bottom: 22px;
            opacity: 0;
            animation: textAppear 1s ease forwards;
        }

        @keyframes textAppear {
            from {
                opacity: 0;
                transform: translateY(25px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .letter-ending {
            text-align: right;
            font-size: 22px;
            color: #ff6347;
            margin-top: 45px;
            font-family: 'Ma Shan Zheng', cursive;
            font-style: italic;
        }

        .letter-signature {
            text-align: right;
            font-size: 24px;
            color: #ff4500;
            margin-top: 25px;
            font-family: 'Ma Shan Zheng', cursive;
        }

        .final-quote {
            text-align: center;
            font-size: 16px;
            color: #999;
            margin-top: 60px;
            font-style: italic;
            opacity: 0;
            animation: fadeInSlow 2s ease forwards;
            animation-delay: 3s;
        }

        @keyframes fadeInSlow {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* éŸ³ä¹æ§åˆ¶æŒ‰é’® */
        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, rgba(255, 182, 193, 0.95) 0%, rgba(255, 140, 0, 0.95) 100%);
            border-radius: 50%;
            border: 3px solid #fff;
            cursor: pointer;
            z-index: 300;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            box-shadow: 0 6px 20px rgba(255, 140, 0, 0.5);
            transition: all 0.3s ease;
        }

        .music-control:hover {
            transform: scale(1.15) rotate(10deg);
            box-shadow: 0 8px 25px rgba(255, 140, 0, 0.7);
        }

        .music-control.playing {
            animation: musicPulse 1.5s ease infinite;
        }

        @keyframes musicPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.08);
            }
        }

        /* å¿ƒå½¢ç²’å­æ•ˆæœ */
        .heart-particle {
            position: fixed;
            color: #ff69b4;
            font-size: 22px;
            pointer-events: none;
            z-index: 9999;
            animation: heartFloat 2.5s ease-out forwards;
        }

        @keyframes heartFloat {
            0% {
                transform: translateY(0) scale(1) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-120px) scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        /* æµæ˜Ÿç‰¹æ•ˆ */
        .shooting-star {
            position: fixed;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
            z-index: 150;
            animation: shootingStar 1.5s ease-out forwards;
        }

        @keyframes shootingStar {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(-300px, 300px);
                opacity: 0;
                box-shadow: 0 0 20px 4px rgba(255, 255, 255, 0.4);
            }
        }

        /* å¼€å§‹æç¤º */
        .start-hint {
            position: fixed;
            top: 35px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.92);
            padding: 18px 35px;
            border-radius: 30px;
            font-size: 20px;
            color: #ff6347;
            z-index: 150;
            box-shadow: 0 6px 25px rgba(255, 140, 0, 0.35);
            animation: hintBounce 2.5s ease infinite;
        }

        @keyframes hintBounce {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateY(-12px);
            }
        }

        /* å¼€å§‹æŒ‰é’® */
        .start-button {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 500;
            background: linear-gradient(135deg, #ff6b9d 0%, #ffa07a 50%, #ff69b4 100%);
            color: white;
            font-size: 32px;
            font-weight: bold;
            padding: 30px 70px;
            border-radius: 60px;
            border: 4px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 15px 50px rgba(255, 105, 180, 0.6),
                        0 0 0 0 rgba(255, 105, 180, 0.7);
            cursor: pointer;
            transition: all 0.3s ease;
            animation: buttonPulse 2s ease-in-out infinite;
            font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .start-button:hover {
            transform: translate(-50%, -50%) scale(1.1);
            box-shadow: 0 20px 60px rgba(255, 105, 180, 0.8),
                        0 0 0 20px rgba(255, 105, 180, 0.2);
        }

        .start-button:active {
            transform: translate(-50%, -50%) scale(0.95);
        }

        @keyframes buttonPulse {
            0%, 100% {
                box-shadow: 0 15px 50px rgba(255, 105, 180, 0.6),
                            0 0 0 0 rgba(255, 105, 180, 0.7);
            }
            50% {
                box-shadow: 0 15px 50px rgba(255, 105, 180, 0.8),
                            0 0 0 15px rgba(255, 105, 180, 0);
            }
        }

        .start-button.hide {
            animation: buttonDisappear 0.8s ease forwards;
        }

        @keyframes buttonDisappear {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
        }

        /* å“åº”å¼ - æ‰‹æœºç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            body {
                overflow: hidden;
                position: fixed;
                width: 100%;
                height: 100%;
            }
            
            /* æ‰‹æœºç«¯ç¦ç”¨èƒŒæ™¯æ¨¡ç³Šæ•ˆæœä»¥æå‡æ€§èƒ½ */
            .background-image {
                filter: none;
                opacity: 0.15;
            }
            
            /* æ‰‹æœºç«¯ç®€åŒ–å¼¹å¹•æ•ˆæœ */
            .wish-bubble {
                font-size: 12px;
                padding: 8px 15px;
                border-radius: 12px;
                max-width: 80%;
                white-space: normal;
                word-break: break-word;
                backdrop-filter: none;  /* ç¦ç”¨èƒŒæ™¯æ¨¡ç³Š */
                box-shadow: 0 3px 10px rgba(255, 140, 0, 0.3);  /* ç®€åŒ–é˜´å½± */
            }
            
            .letter-paper {
                margin: 15px;
                padding: 25px;
                max-width: calc(100vw - 30px);
            }
            
            .letter-title {
                font-size: 28px;
                margin-bottom: 25px;
            }
            
            .letter-content {
                font-size: 16px;
                line-height: 1.8;
            }
            
            .letter-ending {
                font-size: 18px;
                margin-top: 30px;
            }
            
            .letter-signature {
                font-size: 20px;
                margin-top: 20px;
            }
            
            .envelope {
                width: 220px;
                height: 150px;
            }
            
            .envelope-flap {
                border-left: 110px solid transparent;
                border-right: 110px solid transparent;
                border-top: 75px solid #ffb6c1;
            }
            
            .envelope-text {
                font-size: 20px;
            }
            
            .birthday-icon {
                font-size: 25px;
            }

            .start-button {
                font-size: 22px;
                padding: 20px 40px;
                border-radius: 45px;
                max-width: 80%;
                text-align: center;
            }
            
            .music-control {
                width: 55px;
                height: 55px;
                font-size: 22px;
                bottom: 20px;
                right: 20px;
            }
            
            .start-hint {
                font-size: 16px;
                padding: 12px 25px;
                top: 20px;
            }
            
            .particle {
                width: 18px;
                height: 18px;
            }
            
            /* æ‰‹æœºç«¯å‡å°‘åŠ¨ç”»å¤æ‚åº¦ */
            .envelope-container {
                filter: none;
            }
        }
        
        /* å°å±æ‰‹æœºä¼˜åŒ– */
        @media (max-width: 480px) {
            .letter-paper {
                margin: 10px;
                padding: 20px;
            }
            
            .letter-title {
                font-size: 24px;
            }
            
            .letter-content {
                font-size: 15px;
            }
            
            .envelope {
                width: 180px;
                height: 120px;
            }
            
            .envelope-flap {
                border-left: 90px solid transparent;
                border-right: 90px solid transparent;
                border-top: 60px solid #ffb6c1;
            }
            
            .envelope-text {
                font-size: 16px;
            }
            
            .wish-bubble {
                font-size: 11px;
                padding: 6px 12px;
            }
            
            .start-button {
                font-size: 20px;
                padding: 18px 35px;
            }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯å›¾å±‚ -->
    <div class="background-image"></div>
    
    <!-- å¼€å§‹æŒ‰é’® -->
    <div class="start-button" id="startButton">ğŸ‚ ç‚¹å‡»å¼€å§‹ ğŸ‰</div>
    
    <!-- ç²’å­å®¹å™¨ -->
    <div class="particle-container" id="particleContainer"></div>
    
    <!-- ä¿¡å° -->
    <div class="envelope-container" id="envelopeContainer" style="display: none;">
        <div class="envelope" id="envelope">
            <div class="envelope-body">
                <div class="envelope-flap"></div>
                <div class="birthday-icon">ğŸ‚</div>
                <div class="envelope-text">ç‚¹æˆ‘æ‰“å¼€ç”Ÿæ—¥ä¿¡ ğŸ</div>
            </div>
        </div>
    </div>
    
    <!-- ä¿¡ä»¶å†…å®¹ -->
    <div class="letter-container" id="letterContainer">
        <div class="letter-paper">
            <div class="letter-title">ğŸˆ ä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥ ğŸˆ</div>
            
            <div class="letter-content" style="animation-delay: 0.2s;">
                å˜¿ï¼ä»Šå¤©çš„ä½ ï¼Œåˆé•¿å¤§äº†ä¸€å²å“¦ï½å›å¿†å¾€æ˜”ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªé˜´å·®é˜³é”™çš„ç»„é˜Ÿå¼€å§‹ï¼Œä»ä¸€æ¬¡è£…æ¨å¼€å§‹ï¼Œæˆ‘ä»¬ä»é™Œç”Ÿåˆ°ç†Ÿæ‚‰åˆ°å†·æ¼ åˆ°äº’ç›¸åŒæƒ…ï¼Œæƒºæƒºç›¸æƒœï¼Œå…¶ä¸­ç§ç§ä¹Ÿåªæœ‰æˆ‘ä»¬å¿ƒçŸ¥ã€‚
            </div>
            
            <div class="letter-content" style="animation-delay: 0.4s;">
                æˆ‘è§‰å¾—ä½ æ˜¯å¿ƒè½¯ä¸”ä¸åï¼Œæç¬‘æˆ–æœ‰æ„æ€çš„äººï¼Œä½ çš„äººç”Ÿæ°¸è¿œä¸ä¼š"ç¼ºå°‘æŒ‡è·¯çš„ç¯"ï¼Œçºµä½¿ä¸€ç›ç†„ç­ï¼Œå‰è·¯å®šä¼šæœ‰æ›´å¤šçš„ç¯ä¸ºä½ è€Œæ˜ï¼Œæ‰€ä»¥å¸Œæœ›ä½ èƒ½å‹‡æ•¢é¢å¯¹æœªæ¥ç§ç§å›°éš¾ï¼Œå¯ä»¥å¤§å£°å“­æ³£ï¼Œä½†è¯·åˆ«æ”¾å¼ƒï¼Œå¦‚æœæˆ‘è¿˜åœ¨ï¼Œä¾æ—§å¯ä»¥æ‰¾æˆ‘å€¾è¯‰ï¼Œæˆ‘ä¸€ç›´æ„¿æ„å€¾å¬ï¼Œå¦‚æœæˆ‘ä¸åœ¨ï¼ˆå®¢è§‚åŸå› )ï¼Œä¹Ÿè¦ç§¯æé¢å¯¹ï¼Œç”Ÿæ´»æ²¡æœ‰æ­»è·¯ï¼Œå‰è·¯ä¾æ—§ä¼šæœ‰æ˜ç¯ï¼            </div>
            
            <div class="letter-content" style="animation-delay: 0.6s;">
                æœªæ¥ä¹Ÿå¸Œæœ›ä½ èƒ½åŠªåŠ›å­¦ä¹ ï¼Œæˆ‘ç­‰ç€ä½  6 å¹´åä¸Šå²¸çš„æ·æŠ¥ï¼Œè¦é‚€è¯·æˆ‘ä»¬ä¸ºä½ æ¥é£æ´—å°˜å“¦ï¼13324452791 ç”µè¯
            </div>
            
            <div class="letter-content" style="animation-delay: 0.8s;">
                åŒæ—¶æˆ‘ä¹Ÿå¸Œæœ›ä»¥åä½ èƒ½é‡åˆ°ä¸€ä¸ªå–œæ¬¢çš„äººåŒä½ å…±æ‚£é£é›¨ï¼Œä¸€ä¸ªäººçš„åšå®ˆè¿˜æ˜¯å¤ªè¿‡æ— è¶£ï¼Œä¿©ä¸ªäººçš„å…±é¸£æ‰èƒ½äº§ç”Ÿæ•ˆåº”ï¼Œæ›´åŠ å¼€å¿ƒï¼Œä½†è¦æ“¦äº®åŒçœ¼ä»”ç»†å»çœ‹ï¼Œå¦‚æœä¸å–œæ¬¢ï¼Œå‹‡æ•¢æ”¾å¼ƒï¼Œä»å¤´å†æ¥ï¼Œè§£å†³ä¸äº†ï¼Œå°±è¦å¯»æ±‚å¸®åŠ©ï¼Œçˆ¶æ¯ï¼Œæœ‹å‹ï¼ˆæš—ç¤ºæˆ‘ï¼‰éƒ½å¯ä»¥å¸®ä½ è§£å†³ã€‚æ”¾å¿ƒä¸Šï¼Œæˆ‘ä»¬ä¸ºä½ ç«–æ——ã€‚
            </div>
            
            <div class="letter-content" style="animation-delay: 1.0s;">
                ä½ æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¥³å­©ï¼Œä¸è¦å¿§è™‘å¤ªå¤šï¼Œå¦‚æœä½ å½“äº†è€å¸ˆä¹Ÿè¦å¤©å¤©å¼€å¿ƒå“¦ï¼Œæ”¾å‡ä¹Ÿè¦å»åˆ«çš„åœ°æ–¹çœ‹çœ‹ï¼Œä¸è¦å› ä¸ºå·¥ä½œè€Œå›°ä½äº†è‡ªå·±ã€‚å–œæ¬¢æ¼«å±•å°±å»ï¼Œä¸ç”¨æ€•ï¼Œyou are beautiful girlï¼å†²å†²å†²â‚â‚á••(Â´ï½¥á´—ï½¥)á•—â¾â¾ï¼Œ
            </div>
            
            <div class="letter-content" style="animation-delay: 1.2s;">
                å“¦å¯¹ï¼Œä¸è¦ç†¬å¤œäº† ï¼Œæ—©ç‚¹ä¼‘æ¯ï¼Œä¸éœ€è¦æƒ³å¤ªå¤šï¼Œå¾ˆå¤šäº‹éƒ½ä¼šæ…¢æ…¢æœ‰ä¸€ä¸ªç»“æœã€‚ï¼Œ18 å²äº†è¦æ³¨æ„ä¿æŠ¤è‡ªå·±äº†ï¼Œä¸ç®¡åšä»€ä¹ˆè¦æ³¨æ„å®‰å…¨ï¼Œä¸å†’é™©ï¼Œè¦è¸è¸å®å®èµ°å¥½æ¯ä¸€æ­¥ã€‚
            </div>
            
            <div class="letter-content" style="animation-delay: 1.4s;">                                                                å°‘å–é…’ï¼Œæ³¨æ„èº«ä½“ï¼Œä¸ç”¨å‡è‚¥ï¼Œå¥½å¥½åƒé¥­ï¼Œåƒè‡ªå·±çˆ±åƒçš„ï¼Œé€‚é‡è¿åŠ¨å°±å¥½ï¼Œ
            </div>
            
            <div class="letter-content" style="animation-delay: 1.6s;">
                æ„¿ä½ çš„ç”Ÿæ´»åƒå½©è™¹ä¸€æ ·ç¾ä¸½ï¼Œåƒå‘æ—¥è‘µä¸€æ ·ç¿çƒ‚ï¼Œåƒæ£‰èŠ±ç³–ä¸€æ ·ç”œèœœã€‚
            </div>
            
            <div class="letter-content" style="animation-delay: 1.8s;">
                æœ€åï¼Œæ­å–œä½ æˆå¹´äº†ï¼Œä»¥åçš„æˆ‘ä»¬ä¼šé‡åˆ°è¯´ä¸å°½çš„çƒ¦æ¼ï¼Œæˆ‘ä»¬ä¼šèµ°å¾ˆå¤šä¸åŒçš„è·¯ï¼Œæ´»å‡º"åƒå¥‡ç™¾æ€ª"çš„äººç”Ÿï¼Œæ¯ä¸ªäººéƒ½ä¼šç«™åœ¨ä¸åŒçš„è§’åº¦å»è§‚å¯Ÿäººç”Ÿï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä¸€æ­¥ç™»å¤©ï¼Œæ— äººèƒ½åŠï¼Œä¹Ÿæœ‰å¯èƒ½é»˜é»˜æ— é—»æ·¹åœ¨äººæµ·ï¼Œä½†ä¸ç®¡æœªæ¥æ˜¯ä»€ä¹ˆï¼Œçºµä½¿æ— äººæ‰¶æˆ‘é’äº‘å¿—ï¼Œä¹Ÿè¦æœ‰ï¼Œæˆ‘è‡ªè¸é›ªè‡ªå±±å·…çš„å‹‡æ°”ï¼Œæˆ‘ä»¬ä¼šé¢ä¸´æ— åŠ©ï¼Œä¼šé¢ä¸´å½·å¾¨ï¼Œä½†åˆ«å´©æºƒï¼Œå¯ä»¥å“­ï¼Œä½†å“­å®Œå°±å¾—çˆ¬èµ·æ¥ï¼Œæ¥ç€å‘å‰ï¼Œæˆ‘ä»¬è¿™è¶Ÿæ—…è¡Œä¼šå¾ˆé•¿ï¼Œé•¿åˆ°ä½ è§‰å¾—ç”Ÿå‘½å¹³æ·¡ï¼Œä½†çºµä½¿ä¸€åˆ‡ä¸å˜ï¼Œé‚£ä½ å°±æ˜¯å˜æ•°â€¦ä¸ºè‡ªå·±ä¸–ç•Œåˆ›é€ å…‰å§ï¼Œsoï¼Œæ­å–œä½ æˆ‘çš„æœ‹å‹ï¼Œä½ å°†æˆåŠŸåº¦è¿‡æ–°æ‰‹æœŸï¼Œäººç”Ÿè¿™å‰¯æœ¬éš¾åº¦å°†å¤§å¤§æå‡ï¼Œå»æ´»å‡ºå±äºä½ çš„ç²¾å½©å§

            </div>
            
            <div class="letter-ending" style="animation-delay: 2.0s;">
                "æ„¿ä½ åœ¨æ¯ä¸ªå¹³å‡¡çš„æ—¥å­é‡Œï¼Œéƒ½èƒ½é—ªé—ªå‘å…‰ï¼Œåƒå¤œç©ºä¸­æœ€äº®çš„æ˜Ÿã€‚"
            </div>
            
            <div class="letter-signature" style="animation-delay: 2.2s;">
                                             â€”â€” é“å­éŸ©è›‹è›‹
                2025å¹´11æœˆ3æ—¥
            </div>

            <div class="final-quote">
                è®©è¿™ä»½ä»£ç ï¼Œä¸åªæ˜¯ç¥ç¦ï¼Œè€Œæ˜¯ä¸€åœºæ¸©æŸ”çš„ç”Ÿæ—¥ä»ªå¼ã€‚
            </div>
        </div>
    </div>
    
    <!-- æç¤ºæ–‡å­— -->
    <div class="start-hint" id="startHint" style="display: none;">
        ç”Ÿæ—¥æƒŠå–œæ­£åœ¨å‡†å¤‡ä¸­... ğŸ‚âœ¨
    </div>
    
    <!-- éŸ³ä¹æ§åˆ¶ -->
    <div class="music-control" id="musicControl">ğŸµ</div>
    
    <!-- èƒŒæ™¯éŸ³ä¹ - å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ -->
    <audio id="bgMusic" loop preload="auto">
        <source src="å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ - é€ƒè·‘è®¡åˆ’.mp3" type="audio/mpeg">
        <!-- å¤‡é€‰æ–‡ä»¶å -->
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ç”Ÿæ—¥ç¥ç¦è¯­åº“ï¼ˆå¼¹å¹•ä¸“ç”¨ - è¶…å¤šç‰ˆæœ¬ï¼‰
        const birthdayWishes = [
            "ğŸ‚ ä»Šå¤©çš„é»„ï¼Œé•¿å¤§ä¸€å²å•¦ï½",
            "ğŸˆ æ„¿ä½ ç¬‘å£å¸¸å¼€",
            "âœ¨ æ„¿æ‰€æœ‰æ¸©æŸ”å’Œå¥½è¿éƒ½å¥”å‘ä½ ï¼",
            "ğŸŒ»æ‰€æœ‰çš„é—®é¢˜éƒ½åœ¨æ…¢æ…¢è§£å†³ ",
            "â­ æ­å–œä½ æˆå¹´ï¼Œç”Ÿæ—¥å¿«ä¹ï¼",
            "ğŸ’ å¸Œæœ›ä»¥åé‡åˆ°å›°éš¾å¯ä»¥è€å¿ƒè§£å†³",
            "ğŸŒ¸ æ„¿ä½ çš„æ¢¦æƒ³éƒ½å¼€èŠ±ç»“æœ",
            "ğŸ ä»Šå¤©ä½ æœ€å¤§ï¼Œæƒ³å¹²å˜›å°±å¹²å˜›ï¼",
            "ğŸŒˆ åƒå°æ–°ä¸€æ ·ï¼Œæ¯å¤©éƒ½å…ƒæ°”æ»¡æ»¡ï¼",
            "ğŸ‰ å‹‡æ•¢å†²ï¼Œèº«åæœ‰æˆ‘ï¼ˆå¤§é—®é¢˜å†æ‰¾æˆ‘ï¼‰",
            "ğŸ’• æ–°çš„ä¸€å²ï¼Œè¦æ›´åŠ å¹¸ç¦å“¦ï¼",
            "ğŸ° å°±ç®—æœªæ¥å¯èƒ½ä¼šåˆ†åˆ«ä¹Ÿè¦å¹¸ç¦çš„æ´»ä¸‹å»",
            "ğŸŒŸ æ„¿ä½ è¢«è¿™ä¸ªä¸–ç•Œæ¸©æŸ”ä»¥å¾…",
            "ğŸŠ ä¸è¦å› ä¸ºä»»ä½•äººå›°ä½ä½ çš„å¿ƒï¼",
            "ğŸ’– è¦æ°¸è¿œçƒ­çˆ±ç”Ÿæ´»",
            "ğŸŒ» æˆ‘ç­‰ç€çœ‹ä½  6å¹´åä¸Šå²¸çš„æ ·å­",
            "ğŸˆ å‹‡æ•¢å»æ´»ï¼Œä½ å·²ç»å¾ˆæ£’äº†",
            "âœ¨ ç›¸ä¿¡è‡ªå·±ï¼Œå‹‡æ•¢äº‰å–",
            "â­ æ¯ä¸€å¤©éƒ½é—ªé—ªå‘å…‰å“¦",
            "ğŸ å‰¯æœ¬å‡çº§ï¼Œæ–°å†’é™©å¼€å§‹å•¦ï¼",
            "ğŸ’ è¦ä¸€ç›´è¿™ä¹ˆæç¬‘ä¸‹å»å“¦ï½",
            "ğŸ‚ è¦ç»§ç»­å˜å¾—æ›´ä¼˜ç§€ï¼",
            "ğŸ æ„¿ä½ çœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒä¸­æœ‰çˆ±",
            "ğŸŒˆ å¸Œæœ›ä½ å¯ä»¥å¹¸ç¦çš„è¿‡å®Œä¸€ç”Ÿå§",
            "âœ¨ æ„¿ä½ æ°¸è¿œä¿æŒçº¯çœŸå’Œç¾å¥½",
            "ğŸ‰ æ‹©äººè¦ä¸‰æ€ï¼Œåˆ‡è«æ„æ°”ç”¨äº‹ï¼",
            "ğŸ• å°±ç®—ä¸€æ¬¡é”™äº†ï¼Œé‚£å°±ç¦»å»ï¼Œå‹‡æ•¢ä»å¤´å†æ¥",
            "ğŸ•¯ï¸ æˆ‘çš„ç”µè¯ 13324452791ï¼Œä»¥åæœ‰é—®é¢˜å¯ä»¥è”ç³»",
            "ğŸŒŸ æ¨çš„ç”µè¯15144508265",
            "â­ æœªæ¥åœ¨ä¸‡åƒç¯ç«ä¸­ä¹Ÿç»ˆæœ‰ä¸€ç›ä¸ºä½ è€Œäº®",
            "ğŸ‚ Happy Birthday! ç”Ÿæ—¥å¿«ä¹ï¼",
            "ğŸˆ æ„¿ä½ æ°¸è¿œ18å²ï¼",
            "ğŸ’• ä»Šå¤©è¦å¤§å£åƒè›‹ç³•ï¼",
            "âœ¨ è®¸ä¸‹çš„æ„¿æœ›éƒ½ä¼šå®ç°å“¦ï½",
            "ğŸŒŸ ä»Šå¤©å…¨ä¸–ç•Œéƒ½ä¸ºä½ è®©è·¯ï¼",
            "ğŸŠ ç”Ÿæ—¥å¿«ä¹ï¼å¤©å¤©å¼€å¿ƒï¼",
            "ğŸ’– æ„¿ä½ è¢«çˆ±åŒ…å›´çš„æ¯ä¸€å¤©",
            "ğŸ‰ æ–°çš„ä¸€å²ï¼Œæ›´åŠ ç²¾å½©ï¼",
            "ğŸŒˆ ä½ å°±æ˜¯ä»Šå¤©æœ€é—ªäº®çš„æ˜Ÿï¼",
            "ğŸ‚ åƒè›‹ç³•ä¸é•¿èƒ–çš„é­”æ³•æ—¥ï¼",
            "ğŸˆ ç”Ÿæ—¥å¿«ä¹ï¼ä¸‡äº‹èƒœæ„ï¼",
            "ğŸ’ ä»Šå¤©çš„ä½ ï¼Œæ‹¥æœ‰ä¸»è§’å…‰ç¯ï¼",
            "ğŸŒ» é˜³å…‰ã€å¿«ä¹ã€ç”Ÿæ—¥å¿«ä¹ï¼",
            "â­ æ„¿ä½ çš„ç¬‘å®¹æ°¸è¿œç¿çƒ‚",
            "ğŸ ä»Šå¤©æ”¶ç¤¼ç‰©æ”¶åˆ°æ‰‹è½¯ï¼",
            "âœ¨ ç”Ÿæ—¥å¿«ä¹ï¼å¹³å®‰å–œä¹ï¼",
            "ğŸŒ¸ æ„¿ä½ å¦‚èŠ±èˆ¬ç»½æ”¾æ¯ä¸€å¤©",
            "ğŸŠ ä»Šå¤©å¿…é¡»è¦å¼€å¿ƒåˆ°é£èµ·ï¼",
            "ğŸ’• æœ€å¥½çš„å¹´çºªï¼Œæœ€ç¾çš„ä½ ï¼",
            "ğŸˆ ç”Ÿæ—¥å¿«ä¹ï¼é¡ºé‚æ— å¿§ï¼",
            "ğŸŒŸ ä»Šå¤©çš„å¯¿æ˜Ÿæœ€å¯çˆ±ï¼",
            "ğŸ‰ æ„¿ä½ æœ‰æ— é™çš„å¿«ä¹å’Œçˆ±ï¼",
            "ğŸ’– ç”Ÿæ—¥å¿«ä¹ï¼äº‹äº‹å¦‚æ„ï¼",
            "ğŸŒˆ å½©è™¹ä¸ºä½ è€Œç°ï¼",
            "âœ¨ ä»Šå¤©ä½ å°±æ˜¯å…¬ä¸»ï¼",
            "ğŸ æ„¿ä½ æ”¶è·æ»¡æ»¡çš„æƒŠå–œï¼",
            "ğŸŒ» åƒå°æ–°ä¸€æ ·å‹‡æ•¢è¿½æ¢¦ï¼",
            "â­ æ˜Ÿå…‰ä¸é—®èµ¶è·¯äººï¼Œç”Ÿæ—¥å¿«ä¹ï¼",
            "ğŸ‚ æ„¿ä½ å²å²å¹³å®‰ï¼Œå¹´å¹´æœ‰ä½ ï¼",
            "ğŸˆ ä»Šå¤©å¿…é¡»è¦å—¨åˆ°å¤©äº®ï¼",
            "ğŸŠ ç”Ÿæ—¥å¿«ä¹ï¼å‰ç¨‹ä¼¼é”¦ï¼",
            "ğŸŒŸ é—ªé—ªå‘å…‰çš„ç”Ÿæ—¥å¯¿æ˜Ÿï¼",
            "âœ¨ ä»Šå¤©å¼€å¯å¹¸è¿æ¨¡å¼ï¼",
            "ğŸ æ„¿ä½ çš„äººç”Ÿåƒå¼€æŒ‚ä¸€æ ·é¡ºåˆ©ï¼",
            "ğŸŒˆ ç”Ÿæ—¥å¿«ä¹ï¼æ­¥æ­¥é«˜å‡ï¼",
            "ğŸˆ æ„¿ä½ ä¸€ç”Ÿè¢«çˆ±ï¼Œä¸€ç”Ÿå¯çˆ±ï¼",
            "ğŸ’– ç”Ÿæ—¥å¿«ä¹ï¼å¥åº·å¿«ä¹ï¼",
            "ğŸŒ» å‘é˜³è€Œç”Ÿï¼Œç”Ÿæ—¥å¿«ä¹ï¼",
            "â­ ä»Šå¤©çš„ä¸»è§’å…‰ç¯é—ªççœ¼ï¼",
            "ğŸ‰ æ„¿ä½ çš„ç”Ÿæ´»å……æ»¡æƒŠå–œï¼",
            "ğŸ’ è¦æ´»å‡ºå±äºä½ çš„è‰²å½©ï¼",
            "ğŸŠ ç”Ÿæ—¥å¿«ä¹ï¼å²å²å¸¸æ¬¢æ„‰ï¼"
        ];

        // éŸ³ä¹æ§åˆ¶ - ã€Šå¤œç©ºä¸­æœ€äº®çš„æ˜Ÿã€‹ç‚¹å‡»åæ’­æ”¾
        const bgMusic = document.getElementById('bgMusic');
        const musicControl = document.getElementById('musicControl');
        let isMusicPlaying = false;
        let hasStarted = false; // æ˜¯å¦å·²ç»ç‚¹å‡»å¼€å§‹æŒ‰é’®

        // å°è¯•æ’­æ”¾éŸ³ä¹çš„å‡½æ•°
        function tryPlayMusic() {
            if (!isMusicPlaying && hasStarted) {
                bgMusic.play().then(() => {
                    isMusicPlaying = true;
                    musicControl.textContent = 'ğŸ¶';
                    musicControl.classList.add('playing');
                    console.log('ğŸµ ã€Šå¤œç©ºä¸­æœ€äº®çš„æ˜Ÿã€‹å¼€å§‹æ’­æ”¾');
                }).catch(e => {
                    console.log('éŸ³ä¹æ’­æ”¾å¤±è´¥:', e);
                });
            }
        }

        // éŸ³ä¹æ§åˆ¶æŒ‰é’®
        musicControl.addEventListener('click', () => {
            if (isMusicPlaying) {
                bgMusic.pause();
                musicControl.textContent = 'ğŸµ';
                musicControl.classList.remove('playing');
                isMusicPlaying = false;
            } else {
                tryPlayMusic();
            }
        });

        // ç«‹å³è®¾ç½®éŸ³é‡
        bgMusic.volume = 0.6;

        // éŸ³é¢‘å¼€å§‹æ’­æ”¾æ—¶æ›´æ–°çŠ¶æ€
        bgMusic.addEventListener('play', () => {
            isMusicPlaying = true;
            musicControl.textContent = 'ğŸ¶';
            musicControl.classList.add('playing');
        });

        // éŸ³é¢‘æš‚åœæ—¶æ›´æ–°çŠ¶æ€
        bgMusic.addEventListener('pause', () => {
            isMusicPlaying = false;
            musicControl.textContent = 'ğŸµ';
            musicControl.classList.remove('playing');
        });

        // ç”Ÿæˆç²’å­
        function createParticles() {
            const container = document.getElementById('particleContainer');
            const particles = ['ğŸ‚', 'ğŸˆ', 'ğŸ', 'ğŸ‰', 'â­', 'âœ¨', 'ğŸŒ¸', 'ğŸ¦‹', 'ğŸŒŸ', 'ğŸ’', 'ğŸŠ', 'ğŸ°'];
            const isMobile = isMobileDevice();
            
            // æ‰‹æœºç«¯å‡å°‘ç²’å­ç”Ÿæˆé¢‘ç‡
            const interval = isMobile ? 2000 : 1000;  // æ‰‹æœºç«¯2ç§’ä¸€ä¸ªï¼ŒPCç«¯1ç§’ä¸€ä¸ª
            
            setInterval(() => {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = particles[Math.floor(Math.random() * particles.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDuration = (Math.random() * 6 + 6) + 's';
                particle.style.fontSize = (Math.random() * (isMobile ? 10 : 15) + (isMobile ? 12 : 15)) + 'px';
                
                // ä½¿ç”¨will-changeä¼˜åŒ–æ€§èƒ½
                particle.style.willChange = 'transform, opacity';
                
                container.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 12000);
            }, interval);
        }

        // æ£€æµ‹æ˜¯å¦ä¸ºç§»åŠ¨è®¾å¤‡
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) 
                   || window.innerWidth <= 768;
        }

        // ç”Ÿæˆæ»¡å±å¼¹å¹•ç¥ç¦ - å †å é“ºæ»¡ç‰ˆæœ¬ï¼ˆä¸æ¶ˆå¤±ï¼‰
        function createWishBubbles() {
            // æ ¹æ®è®¾å¤‡ç±»å‹è°ƒæ•´å¼¹å¹•æ•°é‡
            const isMobile = isMobileDevice();
            const firstWave = isMobile ? 30 : 150;  // æ‰‹æœºç«¯å¤§å¹…å‡å°‘
            const secondWave = isMobile ? 20 : 100;
            const thirdWave = isMobile ? 10 : 50;
            
            // ç¬¬ä¸€æ³¢ - å¿«é€Ÿé“ºæ»¡å±å¹•
            for (let i = 0; i < firstWave; i++) {
                setTimeout(() => {
                    createSingleDanmaku();
                }, i * (isMobile ? 100 : 40));  // æ‰‹æœºç«¯é—´éš”æ›´é•¿
            }
            
            // å»¶è¿Ÿåç»§ç»­æ·»åŠ æ›´å¤šï¼Œç¡®ä¿é“ºæ»¡
            if (!isMobile || secondWave > 0) {
                setTimeout(() => {
                    for (let i = 0; i < secondWave; i++) {
                        setTimeout(() => {
                            createSingleDanmaku();
                        }, i * (isMobile ? 120 : 50));
                    }
                }, isMobile ? 4000 : 6000);  // æ‰‹æœºç«¯æå‰
            }
            
            // æœ€åä¸€æ³¢è¡¥å……
            if (!isMobile || thirdWave > 0) {
                setTimeout(() => {
                    for (let i = 0; i < thirdWave; i++) {
                        setTimeout(() => {
                            createSingleDanmaku();
                        }, i * (isMobile ? 150 : 60));
                    }
                }, isMobile ? 7000 : 11000);  // æ‰‹æœºç«¯æå‰
            }
            
            // é“ºæ»¡åå°±ä¸å†ç”Ÿæˆäº†
        }
        
        // åˆ›å»ºå•æ¡å¼¹å¹• - éšæœºä½ç½®å †å ï¼ˆä¸åˆ é™¤ï¼‰
        function createSingleDanmaku() {
            const bubble = document.createElement('div');
            bubble.className = 'wish-bubble';
            bubble.textContent = birthdayWishes[Math.floor(Math.random() * birthdayWishes.length)];
            
            const isMobile = isMobileDevice();
            
            // éšæœºä½ç½®ï¼ˆè¦†ç›–æ•´ä¸ªå±å¹•ï¼‰
            const topPosition = Math.random() * 90 + 5; // 5% åˆ° 95% çš„é«˜åº¦
            const leftPosition = Math.random() * 90 + 5; // 5% åˆ° 95% çš„å®½åº¦
            bubble.style.top = topPosition + '%';
            bubble.style.left = leftPosition + '%';
            
            // æ‰‹æœºç«¯ç®€åŒ–é¢œè‰²
            const colorVariants = isMobile ? [
                'linear-gradient(135deg, rgba(255, 218, 185, 0.92) 0%, rgba(255, 182, 193, 0.92) 100%)',
                'linear-gradient(135deg, rgba(255, 192, 203, 0.92) 0%, rgba(255, 182, 193, 0.92) 100%)',
                'linear-gradient(135deg, rgba(255, 240, 245, 0.92) 0%, rgba(255, 182, 193, 0.92) 100%)'
            ] : [
                'linear-gradient(135deg, rgba(255, 218, 185, 0.92) 0%, rgba(255, 182, 193, 0.92) 100%)',
                'linear-gradient(135deg, rgba(255, 192, 203, 0.92) 0%, rgba(255, 182, 193, 0.92) 100%)',
                'linear-gradient(135deg, rgba(255, 228, 181, 0.92) 0%, rgba(255, 218, 185, 0.92) 100%)',
                'linear-gradient(135deg, rgba(255, 240, 245, 0.92) 0%, rgba(255, 182, 193, 0.92) 100%)',
                'linear-gradient(135deg, rgba(176, 224, 230, 0.92) 0%, rgba(173, 216, 230, 0.92) 100%)',
                'linear-gradient(135deg, rgba(255, 182, 193, 0.92) 0%, rgba(255, 105, 180, 0.92) 100%)',
                'linear-gradient(135deg, rgba(255, 239, 213, 0.92) 0%, rgba(255, 218, 185, 0.92) 100%)'
            ];
            bubble.style.background = colorVariants[Math.floor(Math.random() * colorVariants.length)];
            
            // éšæœºå­—ä½“å¤§å°
            const fontSize = Math.random() * 5 + (isMobile ? 12 : 15); // æ‰‹æœºç«¯12-17pxï¼ŒPCç«¯15-20px
            bubble.style.fontSize = fontSize + 'px';
            
            // éšæœºz-indexï¼Œå¢åŠ å±‚å æ„Ÿ
            bubble.style.zIndex = Math.floor(Math.random() * 50) + 10;
            
            // ä½¿ç”¨DocumentFragmentæå‡æ€§èƒ½
            document.body.appendChild(bubble);
            
            // ä¸åˆ é™¤å¼¹å¹•ï¼Œè®©å®ƒä»¬æŒç»­å †å 
        }

        // æ˜¾ç¤ºä¿¡å°
        function showEnvelope() {
            setTimeout(() => {
                const envelopeContainer = document.getElementById('envelopeContainer');
                envelopeContainer.style.display = 'block';
                // æ·»åŠ showç±»è§¦å‘åŠ¨ç”»
                setTimeout(() => {
                    envelopeContainer.classList.add('show');
                }, 50);
                
                // æ˜¾ç¤ºæç¤º
                const hint = document.getElementById('startHint');
                hint.style.display = 'block';
                setTimeout(() => {
                    hint.style.display = 'none';
                }, 4000);
            }, 6000); // 6ç§’åå‡ºç°
        }

        // åˆ›å»ºæµæ˜Ÿæ•ˆæœ
        function createShootingStar() {
            const star = document.createElement('div');
            star.className = 'shooting-star';
            star.style.left = Math.random() * window.innerWidth + 'px';
            star.style.top = Math.random() * 200 + 'px';
            document.body.appendChild(star);
            
            setTimeout(() => {
                star.remove();
            }, 1500);
        }

        // ä¿¡å°ç‚¹å‡»/è§¦æ‘¸äº‹ä»¶
        function openEnvelope() {
            const envelope = document.getElementById('envelope');
            if (!envelope.classList.contains('open')) {
                envelope.classList.add('open');
                
                // åˆ›å»ºæµæ˜Ÿæ•ˆæœ
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        createShootingStar();
                    }, i * 200);
                }
                
                setTimeout(() => {
                    document.getElementById('envelopeContainer').style.display = 'none';
                    document.getElementById('letterContainer').style.display = 'block';
                }, 1200);
            }
        }
        
        document.getElementById('envelope').addEventListener('click', openEnvelope);
        document.getElementById('envelope').addEventListener('touchend', function(e) {
            e.preventDefault();
            openEnvelope();
        });

        // å¿ƒå½¢ç²’å­ç‰¹æ•ˆï¼ˆæ”¯æŒç‚¹å‡»å’Œè§¦æ‘¸ï¼‰
        function createHeartParticles(clientX, clientY, target) {
            if (target.closest('.envelope') || target.closest('.music-control') || 
                target.closest('.letter-paper')) {
                const hearts = ['â¤ï¸', 'ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’'];
                const isMobile = isMobileDevice();
                const heartCount = isMobile ? 3 : 10;  // æ‰‹æœºç«¯åªç”Ÿæˆ3ä¸ª
                const delay = isMobile ? 80 : 60;  // æ‰‹æœºç«¯é—´éš”æ›´é•¿
                
                for (let i = 0; i < heartCount; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.className = 'heart-particle';
                        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                        heart.style.left = clientX + (Math.random() - 0.5) * 60 + 'px';
                        heart.style.top = clientY + (Math.random() - 0.5) * 60 + 'px';
                        heart.style.willChange = 'transform, opacity';
                        document.body.appendChild(heart);
                        
                        setTimeout(() => {
                            heart.remove();
                        }, 2500);
                    }, i * delay);
                }
            }
        }
        
        document.addEventListener('click', (e) => {
            createHeartParticles(e.clientX, e.clientY, e.target);
        });
        
        document.addEventListener('touchend', (e) => {
            if (e.changedTouches && e.changedTouches.length > 0) {
                const touch = e.changedTouches[0];
                createHeartParticles(touch.clientX, touch.clientY, e.target);
            }
        });

        // å¼€å§‹æŒ‰é’®ç‚¹å‡»/è§¦æ‘¸äº‹ä»¶
        function startBirthday() {
            const startButton = document.getElementById('startButton');
            if (startButton.style.display === 'none') return;
            
            // éšè—å¼€å§‹æŒ‰é’®
            startButton.classList.add('hide');
            setTimeout(() => {
                startButton.style.display = 'none';
            }, 800);
            
            // æ ‡è®°å·²å¼€å§‹
            hasStarted = true;
            
            // å¼€å§‹æ’­æ”¾éŸ³ä¹
            tryPlayMusic();
            
            // å¼€å§‹ç²’å­å’Œå¼¹å¹•æ•ˆæœ
            createParticles();
            createWishBubbles();
            showEnvelope();
            
            // æ§åˆ¶å°å½©è›‹
            console.log('%cğŸ‚ ç”Ÿæ—¥å¿«ä¹ï¼Happy Birthday! ğŸ‚', 
                'color: #ff6347; font-size: 24px; font-weight: bold; text-shadow: 2px 2px 4px rgba(255,140,0,0.4);');
            console.log('%cè®©è¿™ä»½ä»£ç ï¼Œä¸åªæ˜¯ç¥ç¦ï¼Œè€Œæ˜¯ä¸€åœºæ¸©æŸ”çš„ç”Ÿæ—¥ä»ªå¼ã€‚', 
                'color: #ff69b4; font-size: 18px; font-style: italic;');
        }
        
        document.getElementById('startButton').addEventListener('click', startBirthday);
        document.getElementById('startButton').addEventListener('touchend', function(e) {
            e.preventDefault();
            startBirthday();
        });
    </script>
</body>
</html>


